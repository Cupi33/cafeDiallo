<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order Status - Café Delight</title>
  <link rel="stylesheet" href="./css/statusOrder.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="navbar">
    <h2>Café Delight</h2>
</div>

<div class="container">
    <div class="order-header">
        <h1>Order #4443</h1>
        <div class="order-status status-preparing">
            <i class="fas fa-clock"></i> Preparing Your Order
        </div>
    </div>

    <div class="pickup-info">
        <h3><i class="fas fa-store"></i> Pickup Information</h3>
        <p><strong>Location:</strong> Café Delight, 123 Main Street</p>
        <p><strong>Estimated Ready Time:</strong> 15-20 minutes</p>
        <p><strong>Note:</strong> Please bring this order number when picking up</p>
    </div>

    <div class="order-summary">
      <table id="order-table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="order-items">
          <!-- Order items will be inserted here -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="total-label">Total:</td>
            <td id="order-total" class="total-amount">RM0.00</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="action-buttons">
        <button class="btn primary" id="contact-btn">
            <i class="fas fa-phone"></i> Contact Café
        </button>
        <button class="btn secondary" id="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Menu
        </button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Sample order data - in a real app this would come from your backend
    const order = {
        id: 4443,
        status: "preparing",
        items: [
            { name: "Cappuccino", price: 8.50, quantity: 2, status: "ready" },
            { name: "Chocolate Croissant", price: 5.20, quantity: 1, status: "preparing" },
            { name: "Iced Latte", price: 7.00, quantity: 1, status: "preparing" }
        ],
        total: 29.20
    };

    const orderItems = document.getElementById('order-items');
    const orderTotal = document.getElementById('order-total');
    
    // Display order items
    order.items.forEach(item => {
        const row = document.createElement('tr');
        const subtotal = item.price * item.quantity;
        
        let statusBadge;
        if (item.status === "ready") {
            statusBadge = `<span class="status-badge ready"><i class="fas fa-check"></i> Ready</span>`;
        } else {
            statusBadge = `<span class="status-badge preparing"><i class="fas fa-utensils"></i> Preparing</span>`;
        }
        
        row.innerHTML = `
            <td>${item.name}</td>
            <td>RM${item.price.toFixed(2)}</td>
            <td>${item.quantity}</td>
            <td>RM${subtotal.toFixed(2)}</td>
            <td>${statusBadge}</td>
        `;
        orderItems.appendChild(row);
    });
    
    // Display total
    orderTotal.textContent = `RM${order.total.toFixed(2)}`;
    
    // Button functionality
    document.getElementById('contact-btn').addEventListener('click', () => {
        alert("Calling Café Delight at +6012-345-6789");
    });
    
    document.getElementById('back-btn').addEventListener('click', () => {
        window.location.href = 'home.html';
    });
});
</script>
</body>
</html>